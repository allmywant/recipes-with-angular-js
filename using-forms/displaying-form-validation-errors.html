<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Recipes with Angular.js - Displaying Form Validation Errors</title>
    <meta keywords="javascript, js, angular.js, angularjs, recipes with angular.js, recipes with angularjs, best practices, cookbook, tutorial, book">
    <meta name="viewport" content="width=device-width">
    <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="http://fdietz.github.io/recipes-with-angular-js/assets/application-64ae7a41d6f726f185cec00ea0549071.css">
  </head>
    <body ng-app="RecipesApp">

        <div class="contain-to-grid">
          <nav class="top-bar">
            <ul class="title-area">
              <li class="name">
                <h1><a href="/recipes-with-angular-js">Recipes with Angular.js <img src="http://fdietz.github.io/recipes-with-angular-js/assets/AngularJS-Shield-small-0395a23b65050a4d4cc0febd3bbb93f0.png" alt="" width="36" height="36"></a>  </h1>
              </li>
              <li class="toggle-topbar menu-icon"><a href="#"><span>Menu</span></a></li>
            </ul>

            <section class="top-bar-section">
              <ul class="left">
                <li><a href="/recipes-with-angular-js/toc.html">Table of Contents</a></li>
                <li><a href="/recipes-with-angular-js/about.html">About</a></li>
              </ul>

            </section>
          </nav>
        </div>

      <div class="row">
        <div class="large-12 columns">
          <ul class="breadcrumbs">
  <li><a href="/recipes-with-angular-js">Home</a></li>
  <li><a href="/recipes-with-angular-js/using-forms">using-forms</a></li>
  <li class="current">Displaying Form Validation Errors</li>
</ul>

<div class="recipe-actions">
  
    <form class="jsfiddle" method="post" action="http://jsfiddle.net/api/post/library/pure/" target="_blank">
              <input type="hidden" name="html" value="&lt;body ng-app=&quot;MyApp&quot;&gt;
  &lt;div ng-controller=&quot;User&quot;&gt;
    &lt;form name=&quot;form&quot; ng-submit=&quot;submit()&quot; class=&quot;form-horizontal&quot; novalidate&gt;
      &lt;label&gt;Firstname&lt;/label&gt;
      &lt;input name=&quot;firstname&quot; type=&quot;text&quot; ng-model=&quot;user.firstname&quot; required/&gt;
      &lt;p ng-show=&quot;form.firstname.$invalid &amp;&amp; form.firstname.$dirty&quot;&gt;Firstname is required&lt;/p&gt;
      &lt;label&gt;Lastname&lt;/label&gt;
      &lt;input type=&quot;text&quot; ng-model=&quot;user.lastname&quot; required/&gt;
      &lt;label&gt;Age&lt;/label&gt;
      &lt;input type=&quot;text&quot; ng-model=&quot;user.age&quot;/&gt;
      &lt;br&gt;
      &lt;button class=&quot;btn&quot;&gt;Submit&lt;/button&gt;
    &lt;/form&gt;

    User Model: &#123;&#123;user&#125;&#125;
    &lt;br&gt;
    Form was submitted: &#123;&#123;wasSubmitted&#125;&#125;
    &lt;br&gt;
    Firstname input valid: &#123;&#123;form.firstname.$valid&#125;&#125;
    &lt;br&gt;
    Firstname validation error: &#123;&#123;form.firstname.$error&#125;&#125;
    &lt;br&gt;
    Form valid: &#123;&#123;form.$valid&#125;&#125;
    &lt;br&gt;
    Form validation error: &#123;&#123;form.$error&#125;&#125;
  &lt;/div&gt;
&lt;/body&gt;"></input>

              <input type="hidden" name="js" value="var app = angular.module(&quot;MyApp&quot;, []);

app.controller(&quot;User&quot;, function($scope) {
  $scope.user = {};
  $scope.wasSubmitted = false;

  $scope.submit = function() {
    $scope.wasSubmitted = true;
  };
});"></input>

        
              <input type="hidden" name="resources" value="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.7/angular.min.js,http://code.jquery.com/jquery-1.10.1.min.js,http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/css/bootstrap-combined.min.css"></input>

        <button class="btn small btn-primary">Edit in jsfiddle</button>
      </form>
  
</div>

<h2>Displaying Form Validation Errors</h2>

<h3 id="problem">Problem</h3>

<p>You wish to show validation errors to the user by marking the input field red and displaying an error message.</p>

<h3 id="solution">Solution</h3>

<p>We can use the <code>ng-show</code> directive to show an error message if a form input is invalid and CSS classes to change the input elementâ€™s background color depending on its state.</p>

<p>Let us start with the styling changes:</p>
<div>
  <pre data-line=''><code class='language-markup'>&lt;style type=&quot;text/css&quot;&gt;
  input.ng-invalid.ng-dirty {
    background-color: red;
  }
  input.ng-valid.ng-dirty {
    background-color: green;
  }
&lt;/style&gt;</code></pre>
</div>
<p>And here is a small part of the form with an error message for the input field:</p>
<div>
  <pre data-line=''><code class='language-markup'>&lt;label&gt;Firstname&lt;/label&gt;
&lt;input name=&quot;firstname&quot; type=&quot;text&quot; ng-model=&quot;user.firstname&quot; required/&gt;
&lt;p ng-show=&quot;form.firstname.$invalid &amp;&amp; form.firstname.$dirty&quot;&gt;
  Firstname is required
&lt;/p&gt;</code></pre>
</div>
<p>You can find the complete example on <a href="https://github.com/fdietz/recipes-with-angular-js-examples/tree/master/chapter7/recipe3">github</a>.</p>

<h3 id="discussion">Discussion</h3>

<p>The CSS classes ensure that we initially show the fresh form without any classes. When the user starts typing in some input for the first time, we change it to either green or red. That is a good example of using the <code>ng-dirty</code> and <code>ng-invalid</code> CSS classes.</p>

<p>We use the same logic in the <code>ng-show</code> directive to only show the error message when the user starts typing for the first time.</p>

<div class="panel radius similar-pages">
  <h4>Similar Recipes</h4>
  <ul>
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
        <li>
          <a href="/recipes-with-angular-js/using-forms/displaying-form-validation-errors-with-the-twitter-bootstrap-framework.html">Displaying Form Validation Errors with the Twitter Bootstrap framework</a>
        </li>
      
    
      
        <li>
          <a href="/recipes-with-angular-js/using-forms/displaying-form-validation-errors.html">Displaying Form Validation Errors</a>
        </li>
      
    
      
        <li>
          <a href="/recipes-with-angular-js/using-forms/implement-a-basic-form.html">Implementing a Basic Form</a>
        </li>
      
    
      
        <li>
          <a href="/recipes-with-angular-js/using-forms/implementing-custom-validations.html">Implementing Custom Validations</a>
        </li>
      
    
      
    
      
        <li>
          <a href="/recipes-with-angular-js/using-forms/only-enabling-submit-button-if-the-form-is-valid.html">Only Enabling the Submit Button if the Form is Valid</a>
        </li>
      
    
      
        <li>
          <a href="/recipes-with-angular-js/using-forms/validating-a-form-model-client-side.html">Validating a Form Model Client-Side</a>
        </li>
      
    
  </ul>
</div>

        </div>
      </div>

      <footer class="row">
        <div class="large-12 columns">
          <hr>
          <div class="row">
            <div class="large-6 columns">
              <p>
                Maintained by <a href="http://fdietz.de">Frederik Dietz</a>
              </p>
            </div>

            <div class="large-6 columns text-right">
              <p>All content licensed with <a href="http://creativecommons.org/">Creative Commons</a></p>
            </div>
          </div>
        </div>
      </footer>

      <script src="http://fdietz.github.io/recipes-with-angular-js/assets/application-0baff5f0e43111ed2b7cbc8b8b523b9f.js"></script>
      <script>
        $(document).foundation();
      </script>

      <script type="text/javascript">

        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-42557266-1']);
        _gaq.push(['_trackPageview']);

        (function() {
          var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
          ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
          var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();

      </script>

      <script type="text/javascript">
        $(function() {
          $('#search-query').lunrSearch({
            indexUrl: '/recipes-with-angular-js/search.json',
            results:  '#search-results',
            entries:  '.entries',
            template: '#search-results-template'
          });
        });
      </script>
    </body>
</html>
